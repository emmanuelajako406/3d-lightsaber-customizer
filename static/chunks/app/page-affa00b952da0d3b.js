(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6937:function(e,t,r){Promise.resolve().then(r.bind(r,8350))},8350:function(e,t,r){"use strict";r.d(t,{default:function(){return P}});var n=r(7437),i=r(2265),s=r(8614),a=r(7500),o=r(5293),l=r(535),c=r(1994),u=r(3335);let d=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=i.forwardRef((e,t)=>{let{className:r,variant:i,size:s,asChild:a=!1,...l}=e,m=a?o.g7:"button";return(0,n.jsx)(m,{className:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,u.m6)((0,c.W)(t))}(d({variant:i,size:s,className:r})),ref:t,...l})});m.displayName="Button";var f=r(9688),h=r(2805),b=r(2883),g=r(4231),x=r(9344),p=r(5163),y=r(4606),v=r(4918),j=r(8906),w=r(5550),k=r(2521),N=r(4998),E=r(574),S=r(6524);let z=null;function C(){return z||(z=new(window.AudioContext||window.webkitAudioContext)),z}async function M(e){let t=await fetch(e),r=await t.arrayBuffer(),n=C();return await n.decodeAudioData(r)}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=C(),i=n.createGain(),s=n.createBufferSource();return s.buffer=e,s.loop=r,i.gain.setValueAtTime(t,n.currentTime),s.connect(i),i.connect(n.destination),s.start(),s}function R(e){let{bladeColor:t,hiltStyle:r,isOn:s}=e,a=(0,E.L)(r.url),o=(0,i.useRef)(),l=(0,i.useRef)(),c=(0,i.useRef)(),u=(0,i.useRef)(null),[d,m]=(0,i.useState)(null),[f,h]=(0,i.useState)(null),[b,x]=(0,i.useState)(null),[p,y]=(0,i.useState)(null),v=(0,i.useRef)(null),j=(0,i.useRef)(null),w=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{let e=e=>{u.current=null,w.current=!0},t=()=>{u.current=null,w.current=!1};return window.addEventListener("mousedown",e),window.addEventListener("mouseup",t),()=>{window.removeEventListener("mousedown",e),window.removeEventListener("mouseup",t)}},[]),(0,g.F)(e=>{let t=o.current.scale;s?t.y=Math.min(1,t.y+.05):t.y=Math.max(0,t.y-.01),c.current.intensity=50*t.y,o.current&&(o.current.children[0].material.emissiveIntensity=o.current.scale.y>0?5:0)}),(0,i.useEffect)(()=>{M("".concat("/3d-lightsaber-customizer","/audio/lightsaber-open.mp3")).then(m),M("".concat("/3d-lightsaber-customizer","/audio/lightsaber-close.mp3")).then(h),M("".concat("/3d-lightsaber-customizer","/audio/lightsaber-hum.mp3")).then(x),M("".concat("/3d-lightsaber-customizer","/audio/lightsaber-swing.mp3")).then(y)},[]),(0,i.useEffect)(()=>{if(d&&b&&f){if(s)A(d),v.current=A(b,.2,!0);else{var e;null===(e=v.current)||void 0===e||e.stop(),v.current=null,A(f,1,!1)}}},[s]),(0,g.F)(e=>{let{pointer:t}=e;if(!p||!s||!w.current)return;let r=t.x*window.innerWidth;if(null!==u.current){let e=Math.abs(r-u.current);console.log(e),e>50&&!j.current&&(j.current=!0,A(p,.3),setTimeout(()=>j.current=!1,300))}u.current=r}),(0,n.jsxs)("group",{position:[0,0,0],rotation:[.3,0,0],children:[(0,n.jsx)("primitive",{ref:l,object:a.scene}),(0,n.jsx)("group",{ref:o,position:[0,.95,0],scale:[1,0,1],children:(0,n.jsxs)("mesh",{position:[0,1.5,0],children:[(0,n.jsx)("capsuleGeometry",{args:[.05,3,32,32]}),(0,n.jsx)("meshStandardMaterial",{emissive:t})]})}),(0,n.jsx)("pointLight",{ref:c,position:[0,1.2,0],color:t,intensity:5})]})}function T(e){let{bladeColor:t,hiltStyle:r,isOn:s}=e,a=(0,i.useRef)();return(0,g.F)(e=>{let t=e.clock.getElapsedTime();a.current.intensity=3+.05*(Math.sin(49*t)+Math.sin(60*t)+Math.sin(100*t))}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(R,{bladeColor:t,hiltStyle:r,isOn:s}),(0,n.jsx)(w.qA,{background:!0,backgroundIntensity:.8,environmentIntensity:2,files:"".concat("/3d-lightsaber-customizer","/images/environment.jpg")}),(0,n.jsx)(k.z,{minPolarAngle:Math.PI/3,maxPolarAngle:Math.PI/2,target:[0,1.5,0]}),(0,n.jsxs)("mesh",{rotation:[-(Math.PI/2),0,0],position:[0,-.5,0],children:[(0,n.jsx)("circleGeometry",{args:[1e3]}),(0,n.jsx)(N.Q,{color:5263440,resolution:1024,mirror:1})]}),(0,n.jsxs)(x.x,{children:[(0,n.jsx)(p.d,{ref:a,mipmapBlur:!0,resolutionX:j.GV.AUTO_SIZE,resolutionY:j.GV.AUTO_SIZE}),(0,n.jsx)(y.s,{offset:.05,darkness:.7}),(0,n.jsx)(v.c,{opacity:.02})]})]})}(0,g.e)({UnrealBloomPass:S.m});var I=r(7283);let _=[{name:"Type A",url:"".concat("/3d-lightsaber-customizer","/models/lightsaber1.glb")},{name:"Type B",url:"".concat("/3d-lightsaber-customizer","/models/lightsaber2.glb")},{name:"Type C",url:"".concat("/3d-lightsaber-customizer","/models/lightsaber3.glb")}],B=["#c08080","#60b060","#45B7D1","#c080d0","#a0a040"];function P(){let[e,t]=(0,i.useState)(B[0]),[r,o]=(0,i.useState)(_[0]),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(null),g=e=>{d(u===e?null:e)};return(0,n.jsxs)("main",{className:"h-screen relative",children:[(0,n.jsx)("div",{className:"w-full h-full bg-black",children:(0,n.jsxs)(I.Xz,{camera:{position:[0,2,5]},children:[(0,n.jsx)("color",{attach:"background",args:["#003050"]}),(0,n.jsx)(T,{bladeColor:e,hiltStyle:r,isOn:l})]})}),(0,n.jsxs)("div",{className:"absolute bottom-8 left-0 right-0 flex justify-center items-center space-x-6 z-30",children:[(0,n.jsx)(m,{onClick:()=>c(!l),className:"bg-blue-900/30 hover:bg-blue-800/30 text-cyan-300 border border-cyan-400 rounded-full transition-all duration-300 backdrop-blur-md w-16 h-16 ".concat(l?"animate-pulse":""),children:(0,n.jsx)(f.Z,{})}),(0,n.jsxs)("div",{className:"relative group",children:[(0,n.jsx)(m,{onClick:()=>g("color"),className:"bg-blue-900/30 hover:bg-blue-800/30 text-cyan-300 border border-cyan-400 rounded-full transition-all duration-300 backdrop-blur-md w-16 h-16",children:(0,n.jsx)(h.Z,{className:"w-12 h-12"})}),(0,n.jsx)(s.M,{children:"color"===u&&(0,n.jsx)(a.E.div,{initial:{opacity:0,x:-140,y:20},animate:{opacity:1,x:-140,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:"absolute bottom-full mb-4 left-1/2 transform -translate-x-1/2",children:(0,n.jsx)("div",{className:"flex flex-row space-x-4 p-2 rounded-lg",children:B.map((e,r)=>(0,n.jsx)(a.E.button,{className:"w-10 h-10 rounded-full border-cyan-400 hover:ring-2 hover:ring-offset-2 hover:ring-offset-gray-100",style:{backgroundColor:e,boxShadow:"0 0 10px ".concat(e)},initial:{scale:0,y:30},animate:{scale:1,y:0},exit:{scale:0,y:30},transition:{type:"spring",stiffness:260,damping:20,delay:.05*r},onClick:()=>t(e)},e))})})})]}),(0,n.jsxs)("div",{className:"relative group",children:[(0,n.jsx)(m,{onClick:()=>g("hiltStyle"),className:"bg-blue-900/30 hover:bg-blue-800/30 text-cyan-300 border border-cyan-400 rounded-full transition-all duration-300 backdrop-blur-md w-16 h-16",children:(0,n.jsx)(b.Z,{className:"w-12 h-12"})}),(0,n.jsx)(s.M,{children:"hiltStyle"===u&&(0,n.jsx)(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:"absolute bottom-full mb-4 left-1/2 transform -translate-x-1/2",children:(0,n.jsx)("div",{className:"flex flex-row space-x-4 rounded-lg",children:_.map((e,t)=>(0,n.jsx)(a.E.button,{className:"w-32 px-4 py-2 rounded-full bg-blue-800/50 text-cyan-300 border-cyan-400 border hover:bg-blue-700/50 transition-colors duration-200",initial:{scale:0,x:-295,y:30},animate:{scale:1,x:-295,y:0},exit:{scale:0,y:30},transition:{type:"spring",stiffness:260,damping:20,delay:.05*t},onClick:()=>o(e),children:e.name},e.name))})})})]})]})]})}}},function(e){e.O(0,[689,723,21,971,117,744],function(){return e(e.s=6937)}),_N_E=e.O()}]);